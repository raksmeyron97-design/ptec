<!DOCTYPE html>
<html lang="km">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PTEC - ជំនួយការគ្រូបង្រៀនឌីជីថល</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kantumruy+Pro:wght@300;400;700&family=Moul&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root { --primary: #0054a6; --secondary: #3b82f6; --accent: #f59e0b; }
        body { font-family: 'Kantumruy Pro', sans-serif; background: #f0f4f8; min-height: 100vh; margin: 0; padding: 0; scroll-behavior: smooth; }
        .kh-moul { font-family: 'Moul', cursive; }
        
        /* Dashboard Background Animation */
        .bg-animate { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: radial-gradient(circle at 10% 20%, #e0e7ff 0%, transparent 40%), radial-gradient(circle at 90% 80%, #dcfce7 0%, transparent 40%), radial-gradient(circle at 50% 50%, #fef3c7 0%, transparent 50%); animation: moveBg 20s infinite alternate ease-in-out; }
        @keyframes moveBg { from { transform: scale(1) rotate(0deg); } to { transform: scale(1.1) rotate(2deg); } }
        
        /* Card Styling */
        .card-3d { background: rgba(255, 255, 255, 0.75); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.5); border-radius: 2rem; transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1); cursor: pointer; }
        .card-3d:hover { transform: translateY(-10px); background: rgba(255, 255, 255, 0.95); box-shadow: 0 20px 40px rgba(0, 0, 0, 0.05); }
        
        /* Iframe Viewer */
        #app-container { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1000; background: white; }
        #app-frame { width: 100%; height: 100%; border: none; }
        
        .home-btn { 
            position: fixed; top: 20px; left: 20px; z-index: 1001; 
            background: rgba(0, 84, 166, 0.9); color: white; 
            padding: 10px 20px; border-radius: 50px; 
            display: flex; align-items: center; gap: 8px; 
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease; border: 2px solid rgba(255,255,255,0.2);
        }
        .home-btn:hover { background: #0054a6; transform: scale(1.05); }

        .app-icon-container { width: 70px; height: 70px; display: flex; align-items: center; justify-content: center; border-radius: 1.25rem; }
        @media (min-width: 768px) {
            .app-icon-container { width: 80px; height: 80px; border-radius: 1.5rem; }
        }

        .nav-link { position: relative; transition: color 0.3s; }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 2px; bottom: -4px; left: 0; background-color: var(--primary); transition: width 0.3s; }
        .nav-link:hover::after { width: 100%; }
    </style>
</head>
<body>
    <div class="bg-animate"></div>

    <!-- Iframe Container (When app is opened) -->
    <div id="app-container">
        <button class="home-btn font-bold text-sm md:text-base" onclick="closeApp()">
            <i data-lucide="arrow-left" class="w-4 h-4 md:w-5 md:h-5"></i> ត្រឡប់ទៅទំព័រដើម
        </button>
        <iframe id="app-frame" src=""></iframe>
    </div>

    <!-- Dashboard UI -->
    <div id="dashboard-ui">
        <nav class="sticky top-0 z-50 px-4 md:px-8 py-3 md:py-4 bg-white/80 backdrop-blur-lg border-b border-white/40 shadow-sm">
            <div class="max-w-7xl mx-auto flex justify-between items-center">
                <a href="#" onclick="window.scrollTo(0,0); return false;">
                    <img src="https://www.ptec.edu.kh/wp-content/uploads/2020/06/cropped-PTEC_Banner-2048x459.png" alt="PTEC Logo" class="h-8 md:h-12 w-auto">
                </a>
                
                <div class="flex space-x-4 md:space-x-10 text-[10px] md:text-sm font-bold items-center">
                    <a href="#" onclick="window.scrollTo(0,0); return false;" class="nav-link text-[#0054a6] hover:text-blue-700">ទំព័រដើម</a>
                    <a href="#apps-section" class="nav-link text-[#0054a6] hover:text-blue-700">កម្មវិធី</a>
                    <a href="https://www.ptec.edu.kh/" target="_blank" class="nav-link text-[#0054a6] hover:text-blue-700 flex items-center gap-1">
                        គេហទំព័រ <i data-lucide="external-link" class="w-2 h-2 md:w-3 md:h-3"></i>
                    </a>
                </div>
            </div>
        </nav>

        <header class="pt-10 md:pt-16 pb-6 px-6 text-center">
            <div class="max-w-[700px] mx-auto">
                <div class="mb-6 md:mb-8">
                    <img src="https://www.ptec.edu.kh/wp-content/uploads/2020/06/cropped-PTEC_Banner-2048x459.png" alt="PTEC" class="w-full h-auto drop-shadow-xl">
                </div>
                <h1 class="kh-moul text-xl md:text-4xl text-[#0054a6] mb-4 md:mb-6 leading-relaxed md:leading-relaxed">ប្រព័ន្ធជំនួយការគ្រូបង្រៀនឌីជីថល</h1>
                <p class="text-[#0054a6]/80 text-sm md:text-xl leading-relaxed font-semibold">
                    លើកកម្ពស់សក្តានុពលនៃការបង្រៀន និងរៀនតាមបែបឌីជីថល<br>
                    ដើម្បីកសាងមូលដ្ឋានគ្រឹះអប់រំឱ្យកាន់តែរឹងមាំ ប្រកបដោយភាពច្នៃប្រឌិត
                </p>
            </div>
        </header>

        <main id="apps-section" class="max-w-7xl mx-auto px-6 py-4 md:py-8 pb-24">
            <div id="app-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8">
                <!-- App Cards will be generated here -->
            </div>
        </main>

        <footer class="text-center py-8 md:py-10 border-t border-white/40 bg-white/30">
            <div class="text-[10px] md:text-sm text-[#0054a6] tracking-wide font-bold px-4">© ២០២៦ វិទ្យាស្ថានគរុកោសល្យរាជធានីភ្នំពេញ</div>
        </footer>
    </div>

    <script>
        // Core System Apps
        const apps = [
            { id: '1', name: 'Magic Picker 3D', desc: 'ចាប់ឈ្មោះសិស្សដោយចៃដន្យ<br>ក្នុងប្រអប់វេទមន្ត 3D។', icon: 'box', url: '3D-Box-V5.html', color: 'from-indigo-500 to-purple-600' },
            { id: '2', name: 'Magic Picker Classic', desc: 'ចាប់ឈ្មោះសិស្សបែបសាមញ្ញ<br>ងាយស្រួលប្រើប្រាស់ ដូចវេទមន្ត។', icon: 'wand-2', url: 'MagicBox.html', color: 'from-violet-500 to-fuchsia-600' },
            { id: '3', name: 'កម្មវិធីរចនាជញ្ជីង', desc: 'បង្កើតរូបភាពជញ្ជីង<br>សម្រាប់មេរៀនទម្ងន់។', icon: 'scale', url: 'scale.html', color: 'from-amber-400 to-orange-500' },
            { id: '4', name: 'Poster Splitter', desc: 'បំបែករូបភាពធំៗជាបំណែកៗ A4/A3 <br>សម្រាប់បោះពុម្ពតុបតែងថ្នាក់។', icon: 'layout-grid', url: 'poster.html', color: 'from-blue-400 to-indigo-600' },
            { id: '5', name: 'វត្តមានសិស្ស', desc: 'គ្រប់គ្រងវត្តមានសិស្ស<br>និងទាញយកជារបាយការណ៍។', icon: 'clipboard-check', url: 'attendance.html', color: 'from-emerald-500 to-teal-600' },
            { id: '6', name: 'Flashcard AI Pro', desc: 'បង្កើតបណ្ណពាក្យឆ្លាតវៃ<br>ដោយប្រើប្រាស់បច្ចេកវិទ្យាAI។', icon: 'brain-circuit', url: 'Flashcard AI Pro.html', color: 'from-rose-500 to-pink-600' },
            { id: '7', name: 'រចនានាឡិកា', desc: 'បង្កើតរូបភាពនាឡិកា<br>សម្រាប់មេរៀនពេលវេលា។', icon: 'clock', url: 'https://sn-clock-face.base44.app/', color: 'from-cyan-500 to-blue-500' },
            { id: '8', name: 'Cards Classifier', desc: 'កម្មវិធីបង្កើតបណ្ណបែងចែកក្រុម<br>សម្រាប់ជំនួយក្នុងការបែងចែកក្រុម។', icon: 'layers', url: 'https://memo-cards-classifier.base44.app/', color: 'from-orange-500 to-amber-600' }
        ];

        function renderDashboard() {
            const grid = document.getElementById('app-grid');
            grid.innerHTML = '';
            
            apps.forEach(app => {
                const card = document.createElement('div');
                card.className = 'card-3d group p-6 md:p-8 flex flex-col items-center text-center';
                card.onclick = () => openApp(app.url);
                card.innerHTML = `
                    <div class="mb-4 md:mb-8">
                        <div class="app-icon-container bg-gradient-to-tr ${app.color} shadow-lg transition-transform group-hover:scale-110 duration-300">
                            <i data-lucide="${app.icon}" class="w-8 h-8 md:w-10 md:h-10 text-white"></i>
                        </div>
                    </div>
                    <h3 class="text-base md:text-lg font-bold text-slate-800 mb-2 md:mb-3">${app.name}</h3>
                    <p class="text-slate-500 text-[10px] md:text-xs leading-relaxed mb-4 md:mb-6">${app.desc}</p>
                    <div class="mt-auto px-4 md:px-5 py-2 bg-[#0054a6] text-white rounded-xl text-[9px] md:text-[10px] font-bold uppercase tracking-wider">បើកកម្មវិធី</div>
                `;
                grid.appendChild(card);
            });
            lucide.createIcons();
        }

        function openApp(url) {
            const container = document.getElementById('app-container');
            const frame = document.getElementById('app-frame');
            frame.src = url;
            container.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        function closeApp() {
            const frame = document.getElementById('app-frame');
            frame.src = '';
            document.getElementById('app-container').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        window.onload = renderDashboard;
    </script>
</body>
</html>